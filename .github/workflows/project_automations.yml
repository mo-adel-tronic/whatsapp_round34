name: Project Automation Master ğŸ¤–

on:
  issues:
    types: [opened, closed]
  pull_request:
    types: [opened, review_requested, closed]

jobs:
  # ---------------------------------------------------
  # 1. New Issue -> Todo
  # ---------------------------------------------------
  issue_to_todo:
    name: New Issue -> Todo
    if: github.event_name == 'issues' && github.event.action == 'opened'
    runs-on: ubuntu-latest
    steps:
      - name: Move Issue to Todo
        uses: leonsteinhaeuser/project-beta-automations@v2.2.1
        with:
          gh_token: ${{ secrets.MY_PROJECT_TOKEN }}
          user: mo-adel-tronic   # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          project_id: 5      # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          resource_node_id: ${{ github.event.issue.node_id }}
          status_value: "Todo"                 # âš ï¸ ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø§Ø³Ù… ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¹Ù…ÙˆØ¯

  # ---------------------------------------------------
  # 2. PR -> In-Review
  # ---------------------------------------------------
  pr_to_review:
    name: PR -> In-Review
    if: github.event_name == 'pull_request' && (github.event.action == 'opened' || github.event.action == 'review_requested')
    runs-on: ubuntu-latest
    steps:
      - name: Move PR to In-Review
        uses: leonsteinhaeuser/project-beta-automations@v2.2.1
        with:
          gh_token: ${{ secrets.MY_PROJECT_TOKEN }}
          user: mo-adel-tronic   # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          project_id: 5      # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          resource_node_id: ${{ github.event.pull_request.node_id }}
          status_value: "In-Review"            # âš ï¸ ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø§Ø³Ù… ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¹Ù…ÙˆØ¯

  # ---------------------------------------------------
  # 3. Merged PR -> Done
  # ---------------------------------------------------
  pr_to_done:
    name: Merged PR -> Done
    if: github.event.pull_request.merged == true
    runs-on: ubuntu-latest
    steps:
      - name: Move PR to Done
        uses: leonsteinhaeuser/project-beta-automations@v2.2.1
        with:
          gh_token: ${{ secrets.MY_PROJECT_TOKEN }}
          user: mo-adel-tronic   # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          project_id: 5      # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          resource_node_id: ${{ github.event.pull_request.node_id }}
          status_value: "Done"                 # âš ï¸ ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø§Ø³Ù… ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¹Ù…Ùˆ
  # ---------------------------------------------------
  # 4. Closed Issue -> Done (Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) âœ…
  # ---------------------------------------------------
  issue_closed_to_done:
    name: Closed Issue -> Done
    if: github.event_name == 'issues' && github.event.action == 'closed'
    runs-on: ubuntu-latest
    steps:
      - name: Move Issue to Done
        uses: leonsteinhaeuser/project-beta-automations@v2.2.1
        with:
          gh_token: ${{ secrets.MY_PROJECT_TOKEN }}
          user: mo-adel-tronic   # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          project_id: 5      # âš ï¸ Ø¹Ø¯Ù„ Ù‡Ø°Ø§
          resource_node_id: ${{ github.event.issue.node_id }}
          status_value: "Done"
